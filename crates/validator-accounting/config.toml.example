# Validator Finances Configuration
# Copy this file to config.toml and fill in your values

# =============================================================================
# Validator Configuration
# =============================================================================
[validator]
# Your validator's vote account address
vote_account = "YourVoteAccountPubkeyHere"

# Your validator's identity account address
identity = "YourIdentityPubkeyHere"

# Withdraw authority for the vote account
withdraw_authority = "YourWithdrawAuthorityPubkeyHere"

# Personal wallet used for seeding/withdrawals (for categorizing transfers)
personal_wallet = "YourPersonalWalletPubkeyHere"

# Commission percentage (0-100)
commission_percent = 5

# First epoch where your validator started earning rewards
first_reward_epoch = 900

# Date to begin accounting from (YYYY-MM-DD)
# Used for querying historical transfers and as the reconciliation "start" date.
# If you already had SOL in the validator treasury on this date, set
# `initial_treasury_sol` to that starting balance so reconciliation matches reality.
bootstrap_date = "2025-01-01"

# Optional: initial SOL already present in the validator treasury at bootstrap_date.
# This is a reconciliation baseline, not "income".
# Default: 0.0
initial_treasury_sol = 0.0

# SFDP (Solana Foundation Delegation Program) acceptance date, if applicable
# Leave empty or remove if not in SFDP
sfdp_acceptance_date = "2025-01-01"

# =============================================================================
# API Keys
# =============================================================================
# All API keys can be provided via environment variables instead:
#   HELIUS_API_KEY, COINGECKO_API_KEY, DUNE_API_KEY
# Env vars take precedence over values in this file.
# On Fly.io, use `fly secrets set` and leave [api_keys] empty or omit values.
[api_keys]
# Helius RPC API key (https://helius.dev)
helius = "your-helius-api-key-here"

# CoinGecko API key (https://www.coingecko.com/en/api)
coingecko = "your-coingecko-api-key-here"

# Dune Analytics API key (optional, for backfilling pruned RPC data)
# Get a key at https://dune.com/settings/api
dune = "your-dune-api-key-here"

# =============================================================================
# BAM (Block Assembly Marketplace) Configuration
# =============================================================================
[bam]
# Enable BAM reward tracking (requires validator to be running BAM)
# Default: true
enabled = true

# First epoch to check for BAM rewards
# Default: 912 (when BAM rewards became available)
first_epoch = 912

# jitoSOL to SOL exchange rate for valuation
# jitoSOL typically trades at ~1.05-1.15x SOL due to accumulated staking rewards.
# Default: 1.0 (conservative for accounting)
# Set to a realistic value like 1.10 for more accurate revenue reporting.
jitosol_rate = 1.0

# Note: BAM rewards are jitoSOL tokens claimed to the validator identity's
# associated token account. The identity pubkey from [validator] section is used
# for API queries. Make sure it's the IDENTITY pubkey, not the vote account.
# Only actually claimed rewards are recorded (unclaimed eligibility is skipped).

# =============================================================================
# DoubleZero Fee Configuration
# =============================================================================
[doublezero]
# Enable DoubleZero fee tracking (block reward sharing)
# Default: true if section present
enabled = true

# Fee rate (5% = 0.05)
# Default: 0.05
fee_rate = 0.05

# First epoch with DoubleZero fees
# Default: 859
first_epoch = 859

# DoubleZero deposit account PDA (optional)
# Used to categorize DoubleZero payments in the treasury ledger.
# If omitted, the app will still track fee accruals. When the
# doublezero-solana CLI is available, the PDA can be derived automatically.
deposit_account = "YourDoubleZeroDepositPDAHere"

# =============================================================================
# Optional Integrations
# =============================================================================
[notion]
# Notion integration token (https://www.notion.so/my-integrations)
# Can also be set via NOTION_API_TOKEN env var
api_token = "your-notion-api-token-here"

# Database ID for contractor hours log
# Can also be set via NOTION_DB_ID env var
hours_database_id = "your-database-id-here"
